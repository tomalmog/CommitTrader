# CommitTrader Configuration

# GitHub API Settings
github:
  # Optional: Set GITHUB_TOKEN environment variable for higher rate limits (5000/hour vs 60/hour)
  # Get token at: https://github.com/settings/tokens
  use_token: true
  max_retries: 3
  timeout: 30

# Stock Data Settings
stocks:
  source: "yfinance"  # Options: yfinance, alphavantage, polygon
  market_index: "^GSPC"  # S&P 500 for market model
  risk_free_rate: 0.04  # Annual risk-free rate for excess returns

# Event Study Parameters
event_study:
  # Event window (days before and after event)
  event_window:
    pre: 5
    post: 5

  # Estimation window for calculating expected returns (days)
  estimation_window:
    start: -130  # 130 days before event
    end: -31     # 31 days before event (leave 30-day gap)

  # Minimum trading days required around event
  min_trading_days: 5

  # Model for expected returns
  expected_return_model: "market"  # Options: market, mean_adjusted, market_adjusted

  # Significance levels for statistical tests
  significance_levels: [0.01, 0.05, 0.10]

# GitHub Event Types to Analyze
events:
  releases:
    enabled: true
    prerelease: false  # Exclude pre-releases
    major_releases_only: true  # Only collect major/minor releases (v1.0.0, v2.0.0), skip patches
    min_days_between: 1  # Minimum days between releases to avoid clustering

  commits:
    enabled: false  # Disabled - too slow for 75 companies. Releases are faster and more impactful.
    aggregation: "daily"  # Options: daily, weekly
    spike_threshold: 2.0  # Std deviations above mean to flag as spike
    min_commits: 10  # Minimum commits to consider

  milestones:
    enabled: true
    types:
      - first_commit
      - major_version  # e.g., 1.0.0, 2.0.0
      - repo_creation

# Data Collection Settings
collection:
  # Date range for historical analysis
  start_date: "2020-01-01"
  end_date: null  # null = today

  # Cache settings
  cache_enabled: true
  cache_dir: "data/raw"

  # Rate limiting
  respect_rate_limits: true
  sleep_between_requests: 0.5  # seconds

# Analysis Settings
analysis:
  # Minimum number of events per company
  min_events_per_company: 5

  # Cross-sectional analysis
  aggregate_by:
    - event_type
    - company_sector
    - repo_size

  # Output settings
  output_dir: "data/processed"
  save_intermediate: true

# Visualization Settings
visualization:
  style: "seaborn-v0_8-darkgrid"
  figure_size: [12, 8]
  dpi: 300
  output_format: "png"  # Options: png, pdf, svg
